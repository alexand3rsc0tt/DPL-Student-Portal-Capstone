<%- page_header @assignment.name %>
<h5>
Category: <%= @assignment.category %> | 
Due: <%= @assignment.due_date.to_s(:long_ordinal) %>
</h5>
<br>
<h4>Assignment Description:</h4>
<p><%= @assignment.description %></p>
<%= link_to 'Submit Answer', new_dashboard_assignment_answer_path(@assignment),
                             class: 'btn btn-primary btn-sm' %>
<%= link_to 'Back', dashboard_assignments_path, class: 'btn btn-sm btn-danger'%>

<h4>Answers:</h4>
<% @assignment.answers.each do |answer| %>
  <div>
  <% if answer.pull_request.nil? %>
    <strong>
      <%= answer.user.first_name %> <%= answer.user.last_name %> - <%= answer.title %>
    </strong>
    <br>
    <%= answer.body %>
    <br>
    
  <% else %>
    <strong>
      <%= answer.user.first_name %> <%= answer.user.last_name %> - <%= answer.title %>
      (<%= answer.user.github_profile.username %>) <%= answer.pull_request.action %>:
      <%= link_to "Pull Request ##{answer.pull_request.pull_request_number}", answer.pull_request.link,
                                                                       target: '_blank' %>
    </strong>
    <br>
    SHA: <%= answer.pull_request.sha %> | Mergeable: <%= answer.pull_request.mergeable %>
    <br>
    <%= answer.pull_request.body %>
    <br>
    <% end %>
    Accepted: <%= check_box answer, :accepted,
                                    { class: 'accepted_box',
                                      id: "answer_#{answer.id}_accepted" }  %>
  
  </div>
  <hr> <!-- this needs to be replaced with CSS line bordering -->
<% end %>